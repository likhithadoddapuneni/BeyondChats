{"ast":null,"code":"var _jsxFileName = \"/Users/rahul/Downloads/beyondchats-app/frontend/src/components/ChatUI.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5001/api';\nexport default function ChatUI({\n  pdfId,\n  userId\n}) {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [chats, setChats] = useState([]);\n  const [showDrawer, setShowDrawer] = useState(false);\n  const messagesEndRef = useRef(null);\n  useEffect(() => {\n    if (pdfId) {\n      loadChatHistory();\n    }\n    loadAllChats();\n  }, [pdfId, userId]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const loadChatHistory = async () => {\n    try {\n      const {\n        data\n      } = await axios.get(`${API_URL}/chat/${userId}/${pdfId}`);\n      setMessages(data.messages || []);\n    } catch (error) {\n      console.error('Error loading chat:', error);\n    }\n  };\n  const loadAllChats = async () => {\n    try {\n      const {\n        data\n      } = await axios.get(`${API_URL}/chat/${userId}`);\n      setChats(data);\n    } catch (error) {\n      console.error('Error loading chats:', error);\n    }\n  };\n  const sendMessage = async () => {\n    if (!inputMessage.trim() || !pdfId || loading) return;\n    const userMsg = {\n      role: 'user',\n      content: inputMessage,\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMsg]);\n    setInputMessage('');\n    setLoading(true);\n    try {\n      const {\n        data\n      } = await axios.post(`${API_URL}/chat/message`, {\n        userId,\n        pdfId,\n        message: inputMessage\n      });\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: data.response,\n        citations: data.citations,\n        timestamp: new Date()\n      }]);\n      // Reload chat history from backend to ensure sync\n      loadChatHistory();\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: '‚ùå Sorry, I encountered an error. Please try again.',\n        timestamp: new Date()\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const newChat = async () => {\n    if (!pdfId || !userId) return;\n    try {\n      await axios.delete(`${API_URL}/chat/${userId}/${pdfId}`);\n      setMessages([]);\n    } catch (error) {\n      console.error('Error clearing chat:', error);\n    }\n  };\n  if (!pdfId) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '3rem',\n        color: '#999'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCAC No PDF Selected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please select a PDF to start chatting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      height: '100%',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: showDrawer ? '250px' : '0',\n        background: '#f5f7fa',\n        transition: 'width 0.3s ease',\n        overflow: 'hidden',\n        borderRight: showDrawer ? '1px solid #ddd' : 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: newChat,\n          className: \"btn-primary\",\n          style: {\n            width: '100%',\n            marginBottom: '1rem',\n            fontSize: '0.9rem'\n          },\n          children: \"\\u2795 New Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            marginBottom: '0.5rem',\n            fontSize: '0.9rem'\n          },\n          children: \"Recent Chats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), chats.map((chat, i) => {\n          var _chat$pdfId;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '0.75rem',\n              background: 'white',\n              borderRadius: '6px',\n              marginBottom: '0.5rem',\n              cursor: 'pointer',\n              fontSize: '0.85rem'\n            },\n            children: ((_chat$pdfId = chat.pdfId) === null || _chat$pdfId === void 0 ? void 0 : _chat$pdfId.originalname) || 'Chat ' + (i + 1)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          padding: '1rem',\n          borderBottom: '1px solid #eee'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowDrawer(!showDrawer),\n          className: \"btn-secondary\",\n          style: {\n            padding: '0.5rem 1rem'\n          },\n          children: [\"\\u2630 \", showDrawer ? 'Hide' : 'Show', \" Chats\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: 0\n          },\n          children: \"\\uD83D\\uDCAC Chat Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          overflowY: 'auto',\n          padding: '1rem',\n          background: '#f9f9f9'\n        },\n        children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '2rem',\n            color: '#999'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uD83D\\uDC4B Hi! Ask me anything about your coursebook!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.9rem',\n              marginTop: '1rem'\n            },\n            children: \"Try: \\\"Explain Newton's laws\\\" or \\\"What is thermodynamics?\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this) : messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '1rem',\n            padding: '1rem',\n            background: msg.role === 'user' ? '#667eea' : 'white',\n            color: msg.role === 'user' ? 'white' : '#333',\n            borderRadius: '12px',\n            maxWidth: '80%',\n            marginLeft: msg.role === 'user' ? 'auto' : '0',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              whiteSpace: 'pre-wrap'\n            },\n            children: msg.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 17\n          }, this), msg.citations && msg.citations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '0.75rem',\n              padding: '0.5rem',\n              background: '#f0f0f0',\n              borderRadius: '6px',\n              fontSize: '0.85rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\uD83D\\uDCDA Sources:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 21\n            }, this), msg.citations.map((cite, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '0.25rem'\n              },\n              children: [\"\\u2022 \", cite.page, \": \\\"\", cite.text, \"\\\"\"]\n            }, j, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 23\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.7rem',\n              marginTop: '0.5rem',\n              opacity: 0.7\n            },\n            children: new Date(msg.timestamp).toLocaleTimeString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 17\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 15\n        }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '1rem',\n            color: '#999'\n          },\n          children: \"\\u23F3 Thinking...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1rem',\n          background: 'white',\n          borderTop: '1px solid #eee',\n          display: 'flex',\n          gap: '0.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: inputMessage,\n          onChange: e => setInputMessage(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && !e.shiftKey && sendMessage(),\n          placeholder: \"Ask a question...\",\n          disabled: loading,\n          style: {\n            flex: 1,\n            padding: '0.75rem',\n            border: '2px solid #ddd',\n            borderRadius: '8px',\n            fontSize: '1rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: sendMessage,\n          disabled: loading || !inputMessage.trim(),\n          className: \"btn-primary\",\n          style: {\n            minWidth: '80px'\n          },\n          children: loading ? '‚è≥' : 'Send'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatUI, \"HdzSliq/S7eYLi7LIBydtW8j+8k=\");\n_c = ChatUI;\nvar _c;\n$RefreshReg$(_c, \"ChatUI\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","jsxDEV","_jsxDEV","API_URL","ChatUI","pdfId","userId","_s","messages","setMessages","inputMessage","setInputMessage","loading","setLoading","chats","setChats","showDrawer","setShowDrawer","messagesEndRef","loadChatHistory","loadAllChats","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","data","get","error","console","sendMessage","trim","userMsg","role","content","timestamp","Date","prev","post","message","response","citations","newChat","delete","style","textAlign","padding","color","children","fileName","_jsxFileName","lineNumber","columnNumber","display","height","position","width","background","transition","overflow","borderRight","onClick","className","marginBottom","fontSize","map","chat","i","_chat$pdfId","borderRadius","cursor","originalname","flex","flexDirection","justifyContent","alignItems","borderBottom","margin","overflowY","length","marginTop","msg","maxWidth","marginLeft","boxShadow","whiteSpace","cite","j","page","text","opacity","toLocaleTimeString","ref","borderTop","gap","type","value","onChange","e","target","onKeyPress","key","shiftKey","placeholder","disabled","border","minWidth","_c","$RefreshReg$"],"sources":["/Users/rahul/Downloads/beyondchats-app/frontend/src/components/ChatUI.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\n\nconst API_URL = 'http://localhost:5001/api';\n\nexport default function ChatUI({ pdfId, userId }) {\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [chats, setChats] = useState([]);\n  const [showDrawer, setShowDrawer] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  useEffect(() => {\n    if (pdfId) {\n      loadChatHistory();\n    }\n    loadAllChats();\n  }, [pdfId, userId]);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const loadChatHistory = async () => {\n    try {\n      const { data } = await axios.get(`${API_URL}/chat/${userId}/${pdfId}`);\n      setMessages(data.messages || []);\n    } catch (error) {\n      console.error('Error loading chat:', error);\n    }\n  };\n\n  const loadAllChats = async () => {\n    try {\n      const { data } = await axios.get(`${API_URL}/chat/${userId}`);\n      setChats(data);\n    } catch (error) {\n      console.error('Error loading chats:', error);\n    }\n  };\n\n  const sendMessage = async () => {\n    if (!inputMessage.trim() || !pdfId || loading) return;\n\n    const userMsg = {\n      role: 'user',\n      content: inputMessage,\n      timestamp: new Date()\n    };\n\n    setMessages(prev => [...prev, userMsg]);\n    setInputMessage('');\n    setLoading(true);\n\n    try {\n      const { data } = await axios.post(`${API_URL}/chat/message`, {\n        userId,\n        pdfId,\n        message: inputMessage\n      });\n\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: data.response,\n        citations: data.citations,\n        timestamp: new Date()\n      }]);\n      // Reload chat history from backend to ensure sync\n      loadChatHistory();\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: '‚ùå Sorry, I encountered an error. Please try again.',\n        timestamp: new Date()\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const newChat = async () => {\n    if (!pdfId || !userId) return;\n    try {\n      await axios.delete(`${API_URL}/chat/${userId}/${pdfId}`);\n      setMessages([]);\n    } catch (error) {\n      console.error('Error clearing chat:', error);\n    }\n  };\n\n  if (!pdfId) {\n    return (\n      <div style={{ textAlign: 'center', padding: '3rem', color: '#999' }}>\n        <h3>üí¨ No PDF Selected</h3>\n        <p>Please select a PDF to start chatting</p>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ display: 'flex', height: '100%', position: 'relative' }}>\n      {/* Left Drawer */}\n      <div style={{\n        width: showDrawer ? '250px' : '0',\n        background: '#f5f7fa',\n        transition: 'width 0.3s ease',\n        overflow: 'hidden',\n        borderRight: showDrawer ? '1px solid #ddd' : 'none'\n      }}>\n        <div style={{ padding: '1rem' }}>\n          <button \n            onClick={newChat}\n            className=\"btn-primary\"\n            style={{ width: '100%', marginBottom: '1rem', fontSize: '0.9rem' }}\n          >\n            ‚ûï New Chat\n          </button>\n          \n          <h4 style={{ marginBottom: '0.5rem', fontSize: '0.9rem' }}>Recent Chats</h4>\n          {chats.map((chat, i) => (\n            <div key={i} style={{\n              padding: '0.75rem',\n              background: 'white',\n              borderRadius: '6px',\n              marginBottom: '0.5rem',\n              cursor: 'pointer',\n              fontSize: '0.85rem'\n            }}>\n              {chat.pdfId?.originalname || 'Chat ' + (i + 1)}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Main Chat Area */}\n      <div style={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\n        <div style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          padding: '1rem',\n          borderBottom: '1px solid #eee'\n        }}>\n          <button \n            onClick={() => setShowDrawer(!showDrawer)}\n            className=\"btn-secondary\"\n            style={{ padding: '0.5rem 1rem' }}\n          >\n            ‚ò∞ {showDrawer ? 'Hide' : 'Show'} Chats\n          </button>\n          <h3 style={{ margin: 0 }}>üí¨ Chat Assistant</h3>\n          <div style={{ width: '100px' }}></div>\n        </div>\n\n        <div style={{\n          flex: 1,\n          overflowY: 'auto',\n          padding: '1rem',\n          background: '#f9f9f9'\n        }}>\n          {messages.length === 0 ? (\n            <div style={{ textAlign: 'center', padding: '2rem', color: '#999' }}>\n              <p>üëã Hi! Ask me anything about your coursebook!</p>\n              <p style={{ fontSize: '0.9rem', marginTop: '1rem' }}>\n                Try: \"Explain Newton's laws\" or \"What is thermodynamics?\"\n              </p>\n            </div>\n          ) : (\n            messages.map((msg, i) => (\n              <div key={i} style={{\n                marginBottom: '1rem',\n                padding: '1rem',\n                background: msg.role === 'user' ? '#667eea' : 'white',\n                color: msg.role === 'user' ? 'white' : '#333',\n                borderRadius: '12px',\n                maxWidth: '80%',\n                marginLeft: msg.role === 'user' ? 'auto' : '0',\n                boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n              }}>\n                <p style={{ margin: 0, whiteSpace: 'pre-wrap' }}>{msg.content}</p>\n                \n                {msg.citations && msg.citations.length > 0 && (\n                  <div style={{\n                    marginTop: '0.75rem',\n                    padding: '0.5rem',\n                    background: '#f0f0f0',\n                    borderRadius: '6px',\n                    fontSize: '0.85rem'\n                  }}>\n                    <strong>üìö Sources:</strong>\n                    {msg.citations.map((cite, j) => (\n                      <div key={j} style={{ marginTop: '0.25rem' }}>\n                        ‚Ä¢ {cite.page}: \"{cite.text}\"\n                      </div>\n                    ))}\n                  </div>\n                )}\n                \n                <p style={{ \n                  fontSize: '0.7rem', \n                  marginTop: '0.5rem', \n                  opacity: 0.7 \n                }}>\n                  {new Date(msg.timestamp).toLocaleTimeString()}\n                </p>\n              </div>\n            ))\n          )}\n          {loading && (\n            <div style={{ textAlign: 'center', padding: '1rem', color: '#999' }}>\n              ‚è≥ Thinking...\n            </div>\n          )}\n          <div ref={messagesEndRef} />\n        </div>\n\n        <div style={{ \n          padding: '1rem', \n          background: 'white',\n          borderTop: '1px solid #eee',\n          display: 'flex', \n          gap: '0.5rem' \n        }}>\n          <input\n            type=\"text\"\n            value={inputMessage}\n            onChange={(e) => setInputMessage(e.target.value)}\n            onKeyPress={(e) => e.key === 'Enter' && !e.shiftKey && sendMessage()}\n            placeholder=\"Ask a question...\"\n            disabled={loading}\n            style={{\n              flex: 1,\n              padding: '0.75rem',\n              border: '2px solid #ddd',\n              borderRadius: '8px',\n              fontSize: '1rem'\n            }}\n          />\n          <button \n            onClick={sendMessage}\n            disabled={loading || !inputMessage.trim()}\n            className=\"btn-primary\"\n            style={{ minWidth: '80px' }}\n          >\n            {loading ? '‚è≥' : 'Send'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}