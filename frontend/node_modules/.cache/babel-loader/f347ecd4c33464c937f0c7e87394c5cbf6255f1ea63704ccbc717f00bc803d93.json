{"ast":null,"code":"var _jsxFileName = \"/Users/rahul/Downloads/beyondchats-app/frontend/src/components/SourceSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5001/api';\nexport default function SourceSelector({\n  onSelectPdf,\n  selectedPdfId\n}) {\n  _s();\n  const [pdfs, setPdfs] = useState([]);\n  const [uploadFile, setUploadFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    fetchPdfs();\n  }, []);\n  const fetchPdfs = async () => {\n    try {\n      const {\n        data\n      } = await axios.get(`${API_URL}/pdfs`);\n      setPdfs(data);\n    } catch (error) {\n      console.error('Error fetching PDFs:', error);\n    }\n  };\n  const handleUpload = async () => {\n    if (!uploadFile) {\n      setMessage('Please select a PDF file');\n      return;\n    }\n    setUploading(true);\n    setMessage('');\n    try {\n      const formData = new FormData();\n      formData.append('pdf', uploadFile);\n      const {\n        data\n      } = await axios.post(`${API_URL}/pdfs/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setMessage(`‚úÖ ${data.filename} uploaded successfully!`);\n      setUploadFile(null);\n      fetchPdfs();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessage('‚ùå Upload failed: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message));\n    } finally {\n      setUploading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"source-selector\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\uD83D\\uDCC1 Select PDF Source\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: selectedPdfId,\n      onChange: e => onSelectPdf(e.target.value),\n      style: {\n        marginTop: '1rem',\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"-- Select a PDF --\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), pdfs.map(pdf => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: pdf._id,\n        children: [pdf.originalname, \" (\", pdf.pages, \" pages)\"]\n      }, pdf._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      style: {\n        margin: '1.5rem 0',\n        border: '1px solid #eee'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"\\uD83D\\uDCE4 Upload New PDF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"application/pdf\",\n      onChange: e => setUploadFile(e.target.files[0]),\n      style: {\n        marginTop: '0.5rem',\n        marginBottom: '0.5rem'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      disabled: uploading,\n      className: \"btn-primary\",\n      style: {\n        width: '100%',\n        marginTop: '0.5rem'\n      },\n      children: uploading ? '‚è≥ Uploading...' : 'üì§ Upload PDF'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: '1rem',\n        padding: '0.75rem',\n        background: message.includes('‚úÖ') ? '#d4edda' : '#f8d7da',\n        borderRadius: '8px',\n        fontSize: '0.9rem'\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(SourceSelector, \"N/grymqQtSVZFvPT8uFwTUJfsE8=\");\n_c = SourceSelector;\nvar _c;\n$RefreshReg$(_c, \"SourceSelector\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","API_URL","SourceSelector","onSelectPdf","selectedPdfId","_s","pdfs","setPdfs","uploadFile","setUploadFile","uploading","setUploading","message","setMessage","fetchPdfs","data","get","error","console","handleUpload","formData","FormData","append","post","headers","filename","_error$response","_error$response$data","response","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","style","marginTop","marginBottom","map","pdf","_id","originalname","pages","margin","border","type","accept","files","onClick","disabled","width","padding","background","includes","borderRadius","fontSize","_c","$RefreshReg$"],"sources":["/Users/rahul/Downloads/beyondchats-app/frontend/src/components/SourceSelector.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst API_URL = 'http://localhost:5001/api';\n\nexport default function SourceSelector({ onSelectPdf, selectedPdfId }) {\n  const [pdfs, setPdfs] = useState([]);\n  const [uploadFile, setUploadFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    fetchPdfs();\n  }, []);\n\n  const fetchPdfs = async () => {\n    try {\n      const { data } = await axios.get(`${API_URL}/pdfs`);\n      setPdfs(data);\n    } catch (error) {\n      console.error('Error fetching PDFs:', error);\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!uploadFile) {\n      setMessage('Please select a PDF file');\n      return;\n    }\n\n    setUploading(true);\n    setMessage('');\n\n    try {\n      const formData = new FormData();\n      formData.append('pdf', uploadFile);\n\n      const { data } = await axios.post(`${API_URL}/pdfs/upload`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n\n      setMessage(`‚úÖ ${data.filename} uploaded successfully!`);\n      setUploadFile(null);\n      fetchPdfs();\n    } catch (error) {\n      setMessage('‚ùå Upload failed: ' + (error.response?.data?.error || error.message));\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return (\n    <div className=\"source-selector\">\n      <h3>üìÅ Select PDF Source</h3>\n      \n      <select \n        value={selectedPdfId} \n        onChange={(e) => onSelectPdf(e.target.value)}\n        style={{ marginTop: '1rem', marginBottom: '1rem' }}\n      >\n        <option value=\"\">-- Select a PDF --</option>\n        {pdfs.map((pdf) => (\n          <option key={pdf._id} value={pdf._id}>\n            {pdf.originalname} ({pdf.pages} pages)\n          </option>\n        ))}\n      </select>\n\n      <hr style={{ margin: '1.5rem 0', border: '1px solid #eee' }} />\n\n      <h4>üì§ Upload New PDF</h4>\n      <input\n        type=\"file\"\n        accept=\"application/pdf\"\n        onChange={(e) => setUploadFile(e.target.files[0])}\n        style={{ marginTop: '0.5rem', marginBottom: '0.5rem' }}\n      />\n      <button \n        onClick={handleUpload} \n        disabled={uploading}\n        className=\"btn-primary\"\n        style={{ width: '100%', marginTop: '0.5rem' }}\n      >\n        {uploading ? '‚è≥ Uploading...' : 'üì§ Upload PDF'}\n      </button>\n\n      {message && (\n        <p style={{ \n          marginTop: '1rem', \n          padding: '0.75rem', \n          background: message.includes('‚úÖ') ? '#d4edda' : '#f8d7da',\n          borderRadius: '8px',\n          fontSize: '0.9rem'\n        }}>\n          {message}\n        </p>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}